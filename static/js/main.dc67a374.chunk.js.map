{"version":3,"sources":["pages/MoviesDetails.module.css","App.module.css","pages/MovieCredits.module.css","pages/MovieReviews.module.css","services/movie-api.js","pages/HomePage.js","pages/MovieCredits.jsx","pages/MovieReviews.jsx","pages/MoviesDetails.jsx","components/Searchbar.jsx","pages/SearchMovie.jsx","services/routes.js","App.jsx","index.js"],"names":["module","exports","searchMovies","query","pageNumber","fetch","then","res","json","data","results","HomePage","state","trending","movies","setState","this","map","movie","key","id","to","pathname","title","Component","defaultProps","credits","crew","cast","props","match","params","movieId","catch","error","imgpath","className","styles","Name","member","list","credit_id","profile_path","src","alt","name","character","job","reviews","review","listItem","author","content","genres","goBack","bind","history","poster_path","vote_average","overview","release_date","releaseYear","substring","backBtn","type","onClick","About","Img","bold","genre","addInfoSection","addInfo","path","component","MoviesCredits","MoviesReviews","Searchbar","search","handleChange","e","target","value","handleSubmit","preventDefault","onSearch","Form","onSubmit","SearchFormInput","placeholder","onChange","SearchFormButton","SearchMovie","setSearchQuery","searchQuery","push","location","URLSearchParams","get","movieApi","prevProps","prevState","prevQuery","nextQuery","App","AppHeader","NavLink","exact","routes","MoviesDetails","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dc67a374.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"About\":\"MoviesDetails_About__1Ma5f\",\"Img\":\"MoviesDetails_Img__2sL6t\",\"addInfo\":\"MoviesDetails_addInfo__fm3u5\",\"bold\":\"MoviesDetails_bold__1d8Og\",\"addInfoSection\":\"MoviesDetails_addInfoSection__3wRs0\",\"backBtn\":\"MoviesDetails_backBtn__1rjF4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1iFPT\",\"AppHeader\":\"App_AppHeader__3CVlT\",\"NavLink\":\"App_NavLink__1uq21\",\"Form\":\"App_Form__14u1Y\",\"SearchFormInput\":\"App_SearchFormInput__2brie\",\"SearchFormButton\":\"App_SearchFormButton__3Rnep\",\"App-logo-spin\":\"App_App-logo-spin__2zZPV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"MovieCredits_list__gxrlA\",\"Name\":\"MovieCredits_Name__3_E6p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listItem\":\"MovieReviews_listItem__ksrTX\"};","export const searchMovies = (query = '', pageNumber = 1) => {\r\n  return fetch(\r\n    `https://api.themoviedb.org/3/search/movie?api_key=87547ad0a5cfee0fba05460a073a9eb9&query=${query}&page=${pageNumber}`,\r\n  )\r\n    .then(res => res.json())\r\n    .then(data => data.results);\r\n};\r\n\r\nexport const getTrending = () => {\r\n  return fetch(\r\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=87547ad0a5cfee0fba05460a073a9eb9`,\r\n  )\r\n    .then(res => res.json())\r\n    .then(data => data.results);\r\n};\r\nexport const getMovieDetales = id => {\r\n  return fetch(\r\n    `https://api.themoviedb.org/3/movie/${id}?api_key=87547ad0a5cfee0fba05460a073a9eb9`,\r\n  ).then(res => res.json());\r\n};\r\nexport const getMovieCredits = id => {\r\n  return fetch(\r\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=87547ad0a5cfee0fba05460a073a9eb9`,\r\n  ).then(res => res.json());\r\n};\r\nexport const getMovieReviews = id => {\r\n  return fetch(\r\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=87547ad0a5cfee0fba05460a073a9eb9`,\r\n  )\r\n    .then(res => res.json())\r\n    .then(data => data.results);\r\n};\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport * as movieApi from '../services/movie-api';\r\n\r\nexport default class HomePage extends Component {\r\n  static defaultProps = {};\r\n\r\n  static propTypes = {};\r\n\r\n  state = { trending: [] };\r\n\r\n  componentDidMount() {\r\n    movieApi.getTrending().then(movies => {\r\n      this.setState({\r\n        trending: movies,\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { trending } = this.state;\r\n    return (\r\n      <div>\r\n        <h1>Trending movies</h1>\r\n        <ul>\r\n          {trending.map(movie => (\r\n            <li key={movie.id}>\r\n              <Link to={{ pathname: `/movies/${movie.id}` }}>\r\n                {movie.title}\r\n              </Link>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport * as movieApi from '../services/movie-api';\r\nimport styles from './MovieCredits.module.css';\r\n\r\nexport default class HomePage extends Component {\r\n  static defaultProps = {};\r\n\r\n  static propTypes = {};\r\n\r\n  state = { credits: { crew: [], cast: [] } };\r\n\r\n  componentDidMount() {\r\n    movieApi\r\n      .getMovieCredits(this.props.match.params.movieId)\r\n      .then(credits => {\r\n        this.setState({\r\n          credits: credits,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n  }\r\n  render() {\r\n    const imgpath = 'https://image.tmdb.org/t/p/w185';\r\n\r\n    return (\r\n      <div>\r\n        <h2 className={styles.Name}>Cast</h2>\r\n\r\n        <ul>\r\n          {this.state.credits.cast.map(member => (\r\n            <li className={styles.list} key={member.credit_id}>\r\n              {member.profile_path && (\r\n                <img src={imgpath + member.profile_path} alt={member.name} />\r\n              )}\r\n              <p>{member.name}</p>\r\n              <p>Character: {member.character}</p>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <h2>Crew</h2>\r\n        <ul>\r\n          {this.state.credits.crew.map(member => (\r\n            <li key={member.credit_id}>\r\n              {member.profile_path && (\r\n                <img src={imgpath + member.profile_path} alt={member.name} />\r\n              )}\r\n              <p>{member.name}</p>\r\n              <p>Job: {member.job}</p>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport * as movieApi from '../services/movie-api';\r\nimport styles from './MovieReviews.module.css';\r\n\r\nexport default class HomePage extends Component {\r\n  static defaultProps = {};\r\n\r\n  static propTypes = {};\r\n\r\n  state = { reviews: [] };\r\n\r\n  componentDidMount() {\r\n    movieApi\r\n      .getMovieReviews(this.props.match.params.movieId)\r\n      .then(reviews => {\r\n        this.setState({\r\n          reviews: reviews,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ul>\r\n          {this.state.reviews.map(review => (\r\n            <li className={styles.listItem} key={review.id}>\r\n              <p>Author: {review.author}</p>\r\n              <p>{review.content}</p>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport * as movieApi from '../services/movie-api';\r\nimport { Route, Switch, Link } from 'react-router-dom';\r\nimport MoviesCredits from './MovieCredits';\r\nimport MoviesReviews from './MovieReviews';\r\nimport styles from './MoviesDetails.module.css';\r\n\r\nexport default class HomePage extends Component {\r\n  static defaultProps = {};\r\n\r\n  static propTypes = {};\r\n\r\n  state = {\r\n    movie: {\r\n      genres: [],\r\n    },\r\n  };\r\n\r\n  componentDidMount() {\r\n    movieApi\r\n      .getMovieDetales(this.props.match.params.movieId)\r\n      .then(movie => {\r\n        this.setState({\r\n          movie: movie,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n  }\r\n\r\n  //go back button\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.goBack = this.goBack.bind(this);\r\n  }\r\n  goBack() {\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      id,\r\n      title,\r\n      poster_path,\r\n      vote_average,\r\n      overview,\r\n      release_date,\r\n      genres,\r\n    } = this.state.movie;\r\n    let releaseYear = '';\r\n    if (!!release_date) {\r\n      releaseYear = release_date.substring(0, 4);\r\n    }\r\n\r\n    const imgpath = `https://image.tmdb.org/t/p/w342/${poster_path}`;\r\n    return (\r\n      <div>\r\n        <button className={styles.backBtn} type=\"button\" onClick={this.goBack}>\r\n          go back\r\n        </button>\r\n        <section className={styles.About}>\r\n          {!!poster_path && (\r\n            <img className={styles.Img} src={imgpath} alt={title} />\r\n          )}\r\n          <section>\r\n            {' '}\r\n            <h1>\r\n              {title} ({releaseYear})\r\n            </h1>\r\n            <p>User score: {vote_average} </p>\r\n            <p className={styles.bold}>Overwiew</p>\r\n            <p>{overview}</p>\r\n            <p className={styles.bold}>Genres</p>\r\n            <ul>\r\n              {genres.map(genre => (\r\n                <li key={genre.id}>{genre.name}</li>\r\n              ))}\r\n            </ul>\r\n          </section>\r\n        </section>\r\n        <section className={styles.addInfoSection}>\r\n          <p className={styles.bold}>Additional information</p>\r\n          <Link\r\n            className={styles.addInfo}\r\n            to={{ pathname: `/movies/${id}/credits` }}\r\n          >\r\n            Credits\r\n          </Link>\r\n          <Link\r\n            className={styles.addInfo}\r\n            to={{ pathname: `/movies/${id}/reviews` }}\r\n          >\r\n            Reviews\r\n          </Link>\r\n        </section>\r\n        <Switch>\r\n          <Route path=\"/movies/:movieId/credits\" component={MoviesCredits} />\r\n          <Route path=\"/movies/:movieId/reviews\" component={MoviesReviews} />\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport styles from '../App.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  static propTypes = {};\r\n\r\n  state = {\r\n    search: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ search: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSearch(this.state.search);\r\n    this.setState({ search: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form className={styles.Form} onSubmit={this.handleSubmit}>\r\n        <input\r\n          className={styles.SearchFormInput}\r\n          type=\"text\"\r\n          placeholder=\"Search movies\"\r\n          value={this.state.search}\r\n          name=\"search\"\r\n          onChange={this.handleChange}\r\n        />\r\n\r\n        <button type=\"submit\" className={styles.SearchFormButton}>\r\n          <span>Search</span>\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Searchbar from '../components/Searchbar';\r\nimport * as movieApi from '../services/movie-api';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class SearchMovie extends Component {\r\n  static propTypes = {};\r\n  state = {\r\n    movies: [],\r\n    pageNumber: '',\r\n  };\r\n  componentDidMount() {\r\n    const query = new URLSearchParams(this.props.location.search).get('query');\r\n    if (!query) {\r\n      return;\r\n    }\r\n\r\n    movieApi\r\n      .searchMovies(query)\r\n      .then(movies => {\r\n        this.setState({\r\n          movies: movies,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = new URLSearchParams(prevProps.location.search).get(\r\n      'query',\r\n    );\r\n    const nextQuery = new URLSearchParams(this.props.location.search).get(\r\n      'query',\r\n    );\r\n\r\n    if (prevQuery === nextQuery) {\r\n      return;\r\n    }\r\n\r\n    movieApi\r\n      .searchMovies(nextQuery)\r\n      .then(movies => {\r\n        this.setState({\r\n          movies: movies,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n  }\r\n\r\n  setSearchQuery = searchQuery => {\r\n    this.props.history.push({\r\n      ...this.props.location,\r\n      search: `query=${searchQuery}`,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Searchbar onSearch={this.setSearchQuery} />\r\n\r\n        <ul>\r\n          {this.state.movies.map(movie => (\r\n            <li key={movie.id}>\r\n              <Link to={{ pathname: `/movies/${movie.id}` }}>\r\n                {movie.title}\r\n              </Link>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export default {\r\n  HOME: '/',\r\n  MOVIES: '/movies',\r\n};\r\n","import React, { Component } from 'react';\r\nimport { BrowserRouter, Route, Switch, Redirect, Link } from 'react-router-dom';\r\nimport HomePage from './pages/HomePage';\r\nimport MoviesDetails from './pages/MoviesDetails';\r\nimport styles from './App.module.css';\r\nimport SearchMovie from './pages/SearchMovie';\r\nimport routes from './services/routes';\r\n\r\nexport default class App extends Component {\r\n  render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <div className={styles.App}>\r\n          <ul className={styles.AppHeader}>\r\n            <li>\r\n              <Link className={styles.NavLink} to=\"/\">\r\n                Home\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link className={styles.NavLink} to=\"/movies\">\r\n                Movie\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n          <Switch>\r\n            <Route exact path={routes.HOME} component={HomePage} />\r\n            <Route path=\"/movies/:movieId\" component={MoviesDetails} />\r\n            <Route path={routes.MOVIES} component={SearchMovie} />\r\n\r\n            <Redirect to=\"/\" />\r\n          </Switch>\r\n        </div>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}