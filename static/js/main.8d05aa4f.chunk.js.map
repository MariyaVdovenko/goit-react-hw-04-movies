{"version":3,"sources":["pages/MoviesDetails.module.css","App.module.css","components/MovieCredits.module.css","components/MovieReviews.module.css","services/movie-api.js","pages/HomePage.js","components/MovieCredits.jsx","components/MovieReviews.jsx","pages/MoviesDetails.jsx","components/Searchbar.jsx","components/SearchMovie.jsx","services/routes.js","App.jsx","index.js"],"names":["module","exports","searchMovies","query","pageNumber","fetch","then","res","json","data","results","imgpath","HomePage","state","trending","movies","setState","this","map","movie","key","id","to","pathname","title","Component","defaultProps","credits","crew","cast","props","match","params","movieId","catch","error","className","styles","Name","member","list","credit_id","profile_path","src","movieApi","alt","name","character","job","reviews","review","listItem","author","content","genres","goBack","bind","history","poster_path","vote_average","overview","release_date","releaseYear","substring","backBtn","type","onClick","About","Img","bold","genre","addInfoSection","addInfo","path","component","MoviesCredits","MoviesReviews","Searchbar","search","handleChange","e","target","value","handleSubmit","preventDefault","onSearch","Form","onSubmit","SearchFormInput","placeholder","onChange","SearchFormButton","SearchMovie","setSearchQuery","searchQuery","push","location","URLSearchParams","get","prevProps","prevState","prevQuery","nextQuery","App","AppHeader","NavLink","routes","exact","MoviesDetails","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8d05aa4f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"About\":\"MoviesDetails_About__1Ma5f\",\"Img\":\"MoviesDetails_Img__2sL6t\",\"addInfo\":\"MoviesDetails_addInfo__fm3u5\",\"bold\":\"MoviesDetails_bold__1d8Og\",\"addInfoSection\":\"MoviesDetails_addInfoSection__3wRs0\",\"backBtn\":\"MoviesDetails_backBtn__1rjF4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1iFPT\",\"AppHeader\":\"App_AppHeader__3CVlT\",\"NavLink\":\"App_NavLink__1uq21\",\"Form\":\"App_Form__14u1Y\",\"SearchFormInput\":\"App_SearchFormInput__2brie\",\"SearchFormButton\":\"App_SearchFormButton__3Rnep\",\"App-logo-spin\":\"App_App-logo-spin__2zZPV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"MovieCredits_list__3amwd\",\"Name\":\"MovieCredits_Name__26gVh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listItem\":\"MovieReviews_listItem__3Oqpt\"};","export const searchMovies = (query = '', pageNumber = 1) => {\r\n  return fetch(\r\n    `https://api.themoviedb.org/3/search/movie?api_key=87547ad0a5cfee0fba05460a073a9eb9&query=${query}&page=${pageNumber}`,\r\n  )\r\n    .then(res => res.json())\r\n    .then(data => data.results);\r\n};\r\n\r\nexport const getTrending = () => {\r\n  return fetch(\r\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=87547ad0a5cfee0fba05460a073a9eb9`,\r\n  )\r\n    .then(res => res.json())\r\n    .then(data => data.results);\r\n};\r\nexport const getMovieDetales = id => {\r\n  return fetch(\r\n    `https://api.themoviedb.org/3/movie/${id}?api_key=87547ad0a5cfee0fba05460a073a9eb9`,\r\n  ).then(res => res.json());\r\n};\r\nexport const getMovieCredits = id => {\r\n  return fetch(\r\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=87547ad0a5cfee0fba05460a073a9eb9`,\r\n  ).then(res => res.json());\r\n};\r\nexport const getMovieReviews = id => {\r\n  return fetch(\r\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=87547ad0a5cfee0fba05460a073a9eb9`,\r\n  )\r\n    .then(res => res.json())\r\n    .then(data => data.results);\r\n};\r\nexport const imgpath = 'https://image.tmdb.org/t/p/w185';\r\nexport const posterimgpath = `https://image.tmdb.org/t/p/w342/`;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport * as movieApi from '../services/movie-api';\r\n\r\nexport default class HomePage extends Component {\r\n  static defaultProps = {};\r\n\r\n  static propTypes = {};\r\n\r\n  state = { trending: [] };\r\n\r\n  componentDidMount() {\r\n    movieApi.getTrending().then(movies => {\r\n      this.setState({\r\n        trending: movies,\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { trending } = this.state;\r\n    return (\r\n      <div>\r\n        <h1>Trending movies</h1>\r\n        <ul>\r\n          {trending.map(movie => (\r\n            <li key={movie.id}>\r\n              <Link to={{ pathname: `/movies/${movie.id}` }}>\r\n                {movie.title}\r\n              </Link>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport * as movieApi from '../services/movie-api';\r\nimport styles from './MovieCredits.module.css';\r\n\r\nexport default class HomePage extends Component {\r\n  static defaultProps = {};\r\n\r\n  static propTypes = {};\r\n\r\n  state = { credits: { crew: [], cast: [] } };\r\n\r\n  componentDidMount() {\r\n    movieApi\r\n      .getMovieCredits(this.props.match.params.movieId)\r\n      .then(credits => {\r\n        this.setState({\r\n          credits: credits,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n  }\r\n  render() {\r\n    const { credits } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <h2 className={styles.Name}>Cast</h2>\r\n\r\n        <ul>\r\n          {credits &&\r\n            credits.cast &&\r\n            credits.cast.map(member => (\r\n              <li className={styles.list} key={member.credit_id}>\r\n                {member.profile_path && (\r\n                  <img\r\n                    src={movieApi.imgpath + member.profile_path}\r\n                    alt={member.name}\r\n                  />\r\n                )}\r\n                <p>{member.name}</p>\r\n                <p>Character: {member.character}</p>\r\n              </li>\r\n            ))}\r\n        </ul>\r\n        <h2>Crew</h2>\r\n        <ul>\r\n          {credits &&\r\n            credits.crew &&\r\n            credits.crew.map(member => (\r\n              <li key={member.credit_id}>\r\n                {member.profile_path && (\r\n                  <img\r\n                    src={movieApi.imgpath + member.profile_path}\r\n                    alt={member.name}\r\n                  />\r\n                )}\r\n                <p>{member.name}</p>\r\n                <p>Job: {member.job}</p>\r\n              </li>\r\n            ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport * as movieApi from '../services/movie-api';\r\nimport styles from './MovieReviews.module.css';\r\n\r\nexport default class HomePage extends Component {\r\n  static defaultProps = {};\r\n\r\n  static propTypes = {};\r\n\r\n  state = { reviews: [] };\r\n\r\n  componentDidMount() {\r\n    movieApi\r\n      .getMovieReviews(this.props.match.params.movieId)\r\n      .then(reviews => {\r\n        this.setState({\r\n          reviews: reviews,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ul>\r\n          {this.state.reviews.map(review => (\r\n            <li className={styles.listItem} key={review.id}>\r\n              <p>Author: {review.author}</p>\r\n              <p>{review.content}</p>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport * as movieApi from '../services/movie-api';\r\nimport { Route, Switch, Link } from 'react-router-dom';\r\nimport MoviesCredits from '../components/MovieCredits';\r\nimport MoviesReviews from '../components/MovieReviews';\r\nimport styles from './MoviesDetails.module.css';\r\n\r\nexport default class HomePage extends Component {\r\n  static defaultProps = {};\r\n\r\n  static propTypes = {};\r\n\r\n  state = {\r\n    movie: {\r\n      genres: [],\r\n    },\r\n  };\r\n\r\n  componentDidMount() {\r\n    movieApi\r\n      .getMovieDetales(this.props.match.params.movieId)\r\n      .then(movie => {\r\n        this.setState({\r\n          movie: movie,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n  }\r\n\r\n  //go back button\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.goBack = this.goBack.bind(this);\r\n  }\r\n  goBack() {\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      id,\r\n      title,\r\n      poster_path,\r\n      vote_average,\r\n      overview,\r\n      release_date,\r\n      genres,\r\n    } = this.state.movie;\r\n    let releaseYear = '';\r\n    if (!!release_date) {\r\n      releaseYear = release_date.substring(0, 4);\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <button className={styles.backBtn} type=\"button\" onClick={this.goBack}>\r\n          go back\r\n        </button>\r\n        <section className={styles.About}>\r\n          {!!poster_path && (\r\n            <img\r\n              className={styles.Img}\r\n              src={movieApi.posterimgpath + poster_path}\r\n              alt={title}\r\n            />\r\n          )}\r\n          <section>\r\n            <h1>\r\n              {title} ({releaseYear})\r\n            </h1>\r\n            <p>User score: {vote_average} </p>\r\n            <p className={styles.bold}>Overwiew</p>\r\n            <p>{overview}</p>\r\n            <p className={styles.bold}>Genres</p>\r\n            <ul>\r\n              {genres.map(genre => (\r\n                <li key={genre.id}>{genre.name}</li>\r\n              ))}\r\n            </ul>\r\n          </section>\r\n        </section>\r\n        <section className={styles.addInfoSection}>\r\n          <p className={styles.bold}>Additional information</p>\r\n          <Link\r\n            className={styles.addInfo}\r\n            to={{ pathname: `/movies/${id}/credits` }}\r\n          >\r\n            Credits\r\n          </Link>\r\n          <Link\r\n            className={styles.addInfo}\r\n            to={{ pathname: `/movies/${id}/reviews` }}\r\n          >\r\n            Reviews\r\n          </Link>\r\n        </section>\r\n        <Switch>\r\n          <Route path=\"/movies/:movieId/credits\" component={MoviesCredits} />\r\n          <Route path=\"/movies/:movieId/reviews\" component={MoviesReviews} />\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport styles from '../App.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  static propTypes = {};\r\n\r\n  state = {\r\n    search: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ search: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSearch(this.state.search);\r\n    this.setState({ search: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form className={styles.Form} onSubmit={this.handleSubmit}>\r\n        <input\r\n          className={styles.SearchFormInput}\r\n          type=\"text\"\r\n          placeholder=\"Search movies\"\r\n          value={this.state.search}\r\n          name=\"search\"\r\n          onChange={this.handleChange}\r\n        />\r\n\r\n        <button type=\"submit\" className={styles.SearchFormButton}>\r\n          <span>Search</span>\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Searchbar from './Searchbar';\r\nimport * as movieApi from '../services/movie-api';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class SearchMovie extends Component {\r\n  static propTypes = {};\r\n  state = {\r\n    movies: [],\r\n    pageNumber: '',\r\n  };\r\n  componentDidMount() {\r\n    const query = new URLSearchParams(this.props.location.search).get('query');\r\n    if (!query) {\r\n      return;\r\n    }\r\n\r\n    movieApi\r\n      .searchMovies(query)\r\n      .then(movies => {\r\n        this.setState({\r\n          movies: movies,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = new URLSearchParams(prevProps.location.search).get(\r\n      'query',\r\n    );\r\n    const nextQuery = new URLSearchParams(this.props.location.search).get(\r\n      'query',\r\n    );\r\n\r\n    if (prevQuery === nextQuery) {\r\n      return;\r\n    }\r\n\r\n    movieApi\r\n      .searchMovies(nextQuery)\r\n      .then(movies => {\r\n        this.setState({\r\n          movies: movies,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n  }\r\n\r\n  setSearchQuery = searchQuery => {\r\n    this.props.history.push({\r\n      ...this.props.location,\r\n      search: `query=${searchQuery}`,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Searchbar onSearch={this.setSearchQuery} />\r\n\r\n        <ul>\r\n          {this.state.movies.map(movie => (\r\n            <li key={movie.id}>\r\n              <Link to={{ pathname: `/movies/${movie.id}` }}>\r\n                {movie.title}\r\n              </Link>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export default {\r\n  HOME: '/',\r\n  MOVIES: '/movies',\r\n  MOVIESDETAILS: '/movies/:movieId',\r\n};\r\n","import React, { Component } from 'react';\r\nimport { BrowserRouter, Route, Switch, Redirect, Link } from 'react-router-dom';\r\nimport HomePage from './pages/HomePage';\r\nimport MoviesDetails from './pages/MoviesDetails';\r\nimport styles from './App.module.css';\r\nimport SearchMovie from './components/SearchMovie';\r\nimport routes from './services/routes';\r\n\r\nexport default class App extends Component {\r\n  render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <div className={styles.App}>\r\n          <ul className={styles.AppHeader}>\r\n            <li>\r\n              <Link className={styles.NavLink} to={routes.HOME}>\r\n                Home\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link className={styles.NavLink} to={routes.MOVIES}>\r\n                Movie\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n          <Switch>\r\n            <Route exact path={routes.HOME} component={HomePage} />\r\n            <Route path={routes.MOVIESDETAILS} component={MoviesDetails} />\r\n            <Route path={routes.MOVIES} component={SearchMovie} />\r\n\r\n            <Redirect to=\"/\" />\r\n          </Switch>\r\n        </div>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}